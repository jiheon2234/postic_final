{% extends 'base.html' %}
{% load static %}
{% block title %} 지역별 통계정보 {% endblock %}
{% block content %}
<link rel=" stylesheet" href="{% static  'assets/vendor/korea_map_js_file/style.css' %}">
<main id="main" class="main">

    <div class="pagetitle">
        <h1>지역별 통계정보</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Stat</li>
                <li class="breadcrumb-item active">Region</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

    <!-- 페이지 간단하게 설명해줄 말 적을거임 -->
    <p id='current_region'>전체 데이터임</p>



    <section class="section">
        <div class="row">

            <!-- 수정된 부분 -->
            <!-- 시도별 지역선택 - 지도 -->
            <script>
                var sca = '01';
            </script>
            <div class="col-lg-4">
                <div class="card">
                    <h5 class="card-title">&nbsp;&nbsp;&nbsp;지역 선택</h5>
                    <div class="card-body">
                        <div id="canvas">
                            <div id="south"></div>
                            <div id="seoul">
                                <h2>서울특별시</h2>
                            </div>
                            <div id="gygg">
                                <h2>경기도</h2>
                            </div>
                            <div id="incheon">
                                <h2>인천광역시</h2>
                            </div>
                            <div id="gangwon">
                                <h2>강원도</h2>
                            </div>
                            <div id="chungbuk">
                                <h2>충청북도</h2>
                            </div>
                            <div id="chungnam">
                                <h2>충청남도</h2>
                            </div>
                            <div id="daejeon">
                                <h2>대전광역시</h2>
                            </div>
                            <div id="sejong">
                                <h2>세종특별자치시</h2>
                            </div>
                            <div id="gwangju">
                                <h2>광주광역시</h2>
                            </div>
                            <div id="jeonbuk">
                                <h2>전라북도</h2>
                            </div>
                            <div id="jeonnam">
                                <h2>전라남도</h2>
                            </div>
                            <div id="gyeongbuk">
                                <h2>경상북도</h2>
                            </div>
                            <div id="gyeongnam">
                                <h2>경상남도</h2>
                            </div>
                            <div id="daegu">
                                <h2>대구광역시</h2>
                            </div>
                            <div id="busan">
                                <h2>부산광역시</h2>
                            </div>
                            <div id="ulsan">
                                <h2>울산광역시</h2>
                            </div>
                            <div id="jeju">
                                <h2>제주특별자치도</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 시군구별 지역선택 - 버튼 -->
            <div class="col-lg-4">
                <div class="card">
                    <h5 class="card-title">&nbsp;&nbsp;&nbsp;시군구 선택</h5>
                    <div class="card-body" id="detail_sido">
                        <!-- 내용 작성 -->

                    </div>
                </div>
            </div>

            <!-- 시도 또는 시군구를 선택했을 때, 총 채용건수 나타내기 -->
            <div class="col-lg-4">
                <div class="card">
                    <h5 class="card-title">&nbsp;&nbsp;&nbsp;총 채용건수</h5>
                    <div class="card-body" id="all_cnt">
                        <!-- 내용 작성 -->
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">지역별 직종 채용건수</h5>

                        <!-- Column Chart - 지역별 직종 현황(건수-count)  -->
                        <div id="columnChart"></div>

                        <script>
                            //var 변수이름 = {{변수이름}}
                            document.addEventListener("DOMContentLoaded", () => {
                                chart0 = new ApexCharts(document.querySelector("#columnChart"), {
                                    series: [{
                                        data: [400, 500, 100, 50, 40, 30, 200, 80, 300, 70, 110, 260]
                                    }],
                                    chart: {
                                        type: 'bar',
                                        height: 370
                                    },
                                    plotOptions: {
                                        bar: {
                                            horizontal: false,
                                            columnWidth: '55%',
                                            endingShape: 'rounded'
                                        },
                                    },
                                    dataLabels: {
                                        enabled: false
                                    },
                                    xaxis: {
                                        categories: ['경영·사무·금융·보험',
                                            '연구 및 공학기술',
                                            '교육·법률·사회복지·경찰',
                                            '보건·의료',
                                            '예술·디자인·방송·스포츠',
                                            '미용·여행·숙박·음식·청소',
                                            '영업·판매·운전·운송',
                                            '설치·정비·생산-건설·채굴',
                                            '기계·금속·재료',
                                            '전기·전자·정보통신',
                                            '화학·섬유·의복·식품가공',
                                            '인쇄·목재·공예 및 제조 단순',
                                            '농림어업직'],
                                    },
                                    yaxis: {
                                        title: {
                                            text: 'count'
                                        }
                                    },
                                })
                                chart0.render();
                            });
                        </script>
                        <!-- End Column Chart -->

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">직종 현황</h5>

                        <!-- Pie Chart - 지역별 직종 현황(비율)-->
                        <div id="pieChart"></div>

                        <script>

                            let worktype_list = {{ worktype_list }}
                            document.addEventListener("DOMContentLoaded", () => {
                                chart3 = new ApexCharts(document.querySelector("#pieChart"), {
                                    series: worktype_list,
                                    chart: {
                                        height: 350,
                                        type: 'pie',
                                        toolbar: {
                                            show: true
                                        }
                                    },

                                    // labels: ['경영·사무·금융·보험', '연구 및 공학기술', '교육·법률·사회복지', '보건·의료', '예술·디자인·방송·스포츠', '미용·여행·숙박·음식·경비', '영업·판매·운전·운송', '건설·채굴', '설치·정비·생산-기계', '설치·정비·생산-전기', '설치·정비·생산-화학', '설치·정비·생산-인쇄·목재', '농림어업직']
                                    labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]
                                })
                                chart3.render();
                            });
                        </script>
                        <!-- End Pie Chart -->

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">임금현황 - 금액별 평균</h5>
                        <!-- Bar Chart - 임금현황 금액  -->
                        <div id="barChart"></div>
                        <script>
                            let pay_avg_list = {{ pay_avg_list }}
                            document.addEventListener("DOMContentLoaded", () => {
                                chart1 = new ApexCharts(document.querySelector("#barChart"), {
                                    series: [{
                                        data: pay_avg_list
                                    }],
                                    chart: {
                                        type: 'bar',
                                        height: 350,
                                    },
                                    plotOptions: {
                                        bar: {
                                            borderRadius: 4,
                                            horizontal: true,
                                        }
                                    },
                                    dataLabels: {
                                        enabled: false
                                    },
                                    xaxis: {
                                        categories: ['시급', '월급', '연봉'
                                        ],
                                    }
                                })
                                chart1.render();
                            });
                        </script>
                        <!-- End Bar Chart -->
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">임금 현황 - 종류</h5>

                        <!-- Donut Chart - 지역별(직종별) 임금 현황 -->
                        <div id="donutChart"></div>

                        <script>
                            let paytype_list = {{ paytype_list }}

                            document.addEventListener("DOMContentLoaded", () => {
                                chart2 = new ApexCharts(document.querySelector("#donutChart"), {
                                    // series: [3, 19, 45, 49],
                                    series: paytype_list,
                                    chart: {
                                        height: 350,
                                        type: 'donut',
                                        toolbar: {
                                            show: true
                                        }
                                    },
                                    labels: ['시급', '월급', '연봉'],
                                })
                                chart2.render();
                            });
                        </script>
                        <!-- End Donut Chart -->
                    </div>
                </div>
            </div>

            <!-- 
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">워드클라우드</h5>

                        <div id="wordcloud"></div>
                    </div>
                </div>
            </div>-->

        </div>
    </section>

    <!-- test -->
    <!-- <script>
        const donutchart = document.querySelector("#wordcloud")
        // console.log(donutchart)


        var tmptmp = [1, 2, 3, 4, 5]
        document.addEventListener("DOMContentLoaded", () => {
            new ApexCharts(document.querySelector("#wordcloud"), {
                series: tmptmp,
                chart: {
                    id: 'mychart',
                    height: 350,
                    type: 'pie',
                    toolbar: {
                        show: true
                    }
                },
                labels: [1, 2, 3, 4, 5,]
            }).render()

        });
    </script> -->

</main><!-- End #main -->
{% endblock %}

{% block script %}
<script src="{% static 'showstat/showstat.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/vendor/korea_map_js_file/raphael_path_s.korea.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/vendor/korea_map_js_file/raphael_min.js' %}"></script>
{% endblock %}